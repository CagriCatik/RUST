<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Shadowing</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../01_Primitive_Data_Types/index.html"><strong aria-hidden="true">1.</strong> Primitive Data Types</a></li><li class="chapter-item expanded "><a href="../02_Compound_Data_Types/index.html"><strong aria-hidden="true">2.</strong> Compound Data Types</a></li><li class="chapter-item expanded "><a href="../03_Functions/index.html"><strong aria-hidden="true">3.</strong> Functions</a></li><li class="chapter-item expanded "><a href="../04_Ownership/index.html"><strong aria-hidden="true">4.</strong> Ownership</a></li><li class="chapter-item expanded "><a href="../05_Borrowing_and_References/index.html"><strong aria-hidden="true">5.</strong> Borrowing and References</a></li><li class="chapter-item expanded "><a href="../06_Variables_&_Mutability/index.html"><strong aria-hidden="true">6.</strong> Variables and Mutability</a></li><li class="chapter-item expanded "><a href="../07_Constants/index.html"><strong aria-hidden="true">7.</strong> Constants</a></li><li class="chapter-item expanded "><a href="../08_Shadowing/index.html" class="active"><strong aria-hidden="true">8.</strong> Shadowing</a></li><li class="chapter-item expanded "><a href="../09_Comments/index.html"><strong aria-hidden="true">9.</strong> Comments</a></li><li class="chapter-item expanded "><a href="../10_If_Else_Statements_Control_Flow/index.html"><strong aria-hidden="true">10.</strong> If-else Statements</a></li><li class="chapter-item expanded "><a href="../11_Loops-Control-Flow/index.html"><strong aria-hidden="true">11.</strong> Loops</a></li><li class="chapter-item expanded "><a href="../12_Structs/index.html"><strong aria-hidden="true">12.</strong> Structs</a></li><li class="chapter-item expanded "><a href="../13_Enums/index.html"><strong aria-hidden="true">13.</strong> Enums</a></li><li class="chapter-item expanded "><a href="../14_Error-Handling/index.html"><strong aria-hidden="true">14.</strong> Error Handling</a></li><li class="chapter-item expanded "><a href="../15_Collection-Types/index.html"><strong aria-hidden="true">15.</strong> Collection Types</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="shadowing"><a class="header" href="#shadowing">Shadowing</a></h1>
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>In this lesson, we will explore the concept of <strong>shadowing</strong> in Rust. Shadowing allows you to declare a new variable with the same name as a previous variable, effectively replacing the old variable within a certain scope. This is different from simply making a variable mutable, as it allows for more flexibility, including the ability to change the variable's type. Understanding shadowing is essential for writing clear and idiomatic Rust code.</p>
<h2 id="1-what-is-shadowing"><a class="header" href="#1-what-is-shadowing">1. What is Shadowing?</a></h2>
<h3 id="11-definition"><a class="header" href="#11-definition">1.1 Definition</a></h3>
<p>Shadowing in Rust refers to the ability to declare a new variable with the same name as a previously declared variable. When a new variable is declared with the same name, it "shadows" the previous one, meaning the previous variable is no longer accessible in that scope, and the new variable takes precedence.</p>
<h3 id="12-how-shadowing-works"><a class="header" href="#12-how-shadowing-works">1.2 How Shadowing Works</a></h3>
<p>When you declare a new variable with the same name as an existing one, Rust allows the new variable to shadow the old one. This means that the new variable takes over, and the previous variable is effectively hidden within the scope where the shadowing occurs.</p>
<h4 id="example-basic-shadowing"><a class="header" href="#example-basic-shadowing">Example: Basic Shadowing</a></h4>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let x = 5; // First declaration of `x`
    let x = x + 1; // Shadowing the first `x` with a new `x`
    
    println!("The value of x is: {}", x); // Prints 6
}</code></pre></pre>
<h4 id="explanation"><a class="header" href="#explanation">Explanation:</a></h4>
<ul>
<li>The first <code>x</code> is initialized with the value <code>5</code>.</li>
<li>The second <code>x</code> shadows the first <code>x</code>, adding <code>1</code> to its value, resulting in <code>6</code>.</li>
<li>When <code>x</code> is printed, it displays the value <code>6</code>, which corresponds to the shadowed <code>x</code>.</li>
</ul>
<h2 id="2-shadowing-vs-mutability"><a class="header" href="#2-shadowing-vs-mutability">2. Shadowing vs. Mutability</a></h2>
<h3 id="21-shadowing-is-not-mutability"><a class="header" href="#21-shadowing-is-not-mutability">2.1 Shadowing is Not Mutability</a></h3>
<p>It's important to understand that shadowing is different from marking a variable as mutable. While both allow a variable's value to change, shadowing does so by creating a new variable entirely, while mutability allows for in-place modification of an existing variable.</p>
<h4 id="example-attempt-to-modify-without-mutability"><a class="header" href="#example-attempt-to-modify-without-mutability">Example: Attempt to Modify Without Mutability</a></h4>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let x = 5;
    // x = 10; // ERROR: Cannot assign twice to immutable variable `x`
}</code></pre></pre>
<h4 id="explanation-1"><a class="header" href="#explanation-1">Explanation:</a></h4>
<ul>
<li>Attempting to reassign <code>x</code> without marking it as mutable results in a compilation error.</li>
<li>Shadowing avoids this by creating a new variable, which is not the same as modifying the original.</li>
</ul>
<h3 id="22-benefits-of-shadowing"><a class="header" href="#22-benefits-of-shadowing">2.2 Benefits of Shadowing</a></h3>
<p>Shadowing allows you to reuse variable names without needing to mark them as mutable, and it can even allow you to change the type of a variable while reusing its name.</p>
<h4 id="example-changing-type-with-shadowing"><a class="header" href="#example-changing-type-with-shadowing">Example: Changing Type with Shadowing</a></h4>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let spaces = "   "; // `spaces` is a string slice
    let spaces = spaces.len(); // `spaces` is now an integer
    
    println!("The number of spaces is: {}", spaces);
}</code></pre></pre>
<h4 id="explanation-2"><a class="header" href="#explanation-2">Explanation:</a></h4>
<ul>
<li>The first <code>spaces</code> variable is a string slice containing spaces.</li>
<li>The second <code>spaces</code> variable shadows the first and stores the length of the string, changing its type to an integer.</li>
<li>This is a powerful use of shadowing, allowing you to reuse the same name while changing the data it holds.</li>
</ul>
<h2 id="3-shadowing-in-different-scopes"><a class="header" href="#3-shadowing-in-different-scopes">3. Shadowing in Different Scopes</a></h2>
<p>Shadowing can occur in different scopes, such as within nested blocks. When a variable is shadowed within a block, the original variable is still accessible outside that block.</p>
<h4 id="example-shadowing-in-nested-scopes"><a class="header" href="#example-shadowing-in-nested-scopes">Example: Shadowing in Nested Scopes</a></h4>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let x = 5;
    
    {
        let x = x * 2; // Shadows `x` within this block
        println!("The value of x in the inner scope is: {}", x); // Prints 10
    }
    
    println!("The value of x in the main scope is: {}", x); // Prints 5
}</code></pre></pre>
<h4 id="explanation-3"><a class="header" href="#explanation-3">Explanation:</a></h4>
<ul>
<li>The variable <code>x</code> is declared with the value <code>5</code> in the main scope.</li>
<li>Inside the nested block, a new <code>x</code> shadows the original <code>x</code>, doubling its value to <code>10</code>.</li>
<li>Outside the block, the original <code>x</code> remains unaffected and retains its value of <code>5</code>.</li>
</ul>
<h2 id="4-shadowing-and-type-changes"><a class="header" href="#4-shadowing-and-type-changes">4. Shadowing and Type Changes</a></h2>
<p>One of the unique features of shadowing is the ability to change the type of a variable while reusing the same name. This allows for more flexible and concise code, especially when dealing with different stages of data transformation.</p>
<h4 id="example-shadowing-to-change-type"><a class="header" href="#example-shadowing-to-change-type">Example: Shadowing to Change Type</a></h4>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let guess = "42"; // `guess` is a string slice
    
    let guess: i32 = guess.trim().parse().expect("Not a number!"); // `guess` is now an i32
    
    println!("The guess is: {}", guess);
}</code></pre></pre>
<h4 id="explanation-4"><a class="header" href="#explanation-4">Explanation:</a></h4>
<ul>
<li>The initial <code>guess</code> is a string slice containing the text <code>"42"</code>.</li>
<li>The second <code>guess</code> shadows the first and parses the string into an integer (<code>i32</code>).</li>
<li>This allows for seamless type conversion while maintaining the same variable name.</li>
</ul>
<h2 id="5-common-pitfalls-and-error-handling"><a class="header" href="#5-common-pitfalls-and-error-handling">5. Common Pitfalls and Error Handling</a></h2>
<h3 id="51-reassigning-without-shadowing-or-mutability"><a class="header" href="#51-reassigning-without-shadowing-or-mutability">5.1 Reassigning Without Shadowing or Mutability</a></h3>
<p>If you attempt to reassign a value to a variable without using <code>let</code> for shadowing or <code>mut</code> for mutability, Rust will produce a compile-time error.</p>
<h4 id="example-error-in-reassignment"><a class="header" href="#example-error-in-reassignment">Example: Error in Reassignment</a></h4>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let x = 5;
    x = 10; // ERROR: Cannot assign twice to immutable variable `x`
}</code></pre></pre>
<h3 id="52-mutability-vs-shadowing"><a class="header" href="#52-mutability-vs-shadowing">5.2 Mutability vs. Shadowing</a></h3>
<p>Shadowing creates a new variable, while mutability modifies the existing one. Shadowing allows you to declare a new variable with the same name, effectively creating a fresh variable that can even have a different type, whereas mutability does not.</p>
<h2 id="6-summary"><a class="header" href="#6-summary">6. Summary</a></h2>
<p>In this lesson, we covered the concept of shadowing in Rust. Key takeaways include:</p>
<ul>
<li><strong>Shadowing</strong> allows you to declare a new variable with the same name as an existing one, effectively replacing the old variable in that scope.</li>
<li><strong>Difference from Mutability</strong>: Unlike mutability, which modifies an existing variable, shadowing creates a new variable that can even have a different type.</li>
<li><strong>Scope and Flexibility</strong>: Shadowing can be used in different scopes and allows for flexible data transformation by reusing variable names.</li>
</ul>
<p>Shadowing is a powerful feature in Rust that, when used appropriately, can make your code more concise and clear. In the next lesson, we will explore more advanced topics that build on the concepts of variables, mutability, and shadowing.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../07_Constants/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../09_Comments/index.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../07_Constants/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../09_Comments/index.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
